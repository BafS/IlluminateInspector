<h1>Environment</h1>

<div class="page-content">

    <h2>PHP Configuration</h2>
    <div class="row row-cols-auto cards-info">
        <span class="card">
            <?= $phpVersion ?>
            <small class="text-muted">PHP Version</small>
        </span>
        <span class="card">
            <?= $phpArchitecture ?> bits
            <small class="text-muted">Architecture</small>
        </span>
        <span class="card">
            <?= $phpIntlLocale ?>
            <small class="text-muted">Intl locale</small>
        </span>
        <span class="card">
            <?= $phpTimezone ?>
            <small class="text-muted">Timezone</small>
        </span>

        <span class="card">
            <i data-feather="<?= $zendOpcacheEnabled ? 'check' : 'x' ?>"></i>
            <small class="text-muted">OPCache</small>
        </span>
        <span class="card">
            <i data-feather="<?= $apcuEnabled ? 'check' : 'x' ?>"></i>
            <small class="text-muted">APCu</small>
        </span>
        <span class="card">
            <i data-feather="<?= $xdebugEnabled ? 'check' : 'x' ?>"></i>
            <small class="text-muted">xDebug</small>
        </span>
    </div>

    <h2>Variables</h2>
    <div class="table-responsive text-small">
        <table id="table-variables" class="table table-sm table-hover">
            <thead class="thead-dark">
            <tr>
                <th>Verb</th>
                <th>Details</th>
            </tr>
            </thead>
            <tbody>
            <?php foreach($variables as $name => $val): ?>
            <tr>
                <td class="font-monospace"><?= $name ?></td>
                <td class="font-monospace"><?= $val ?></td>
            </tr>
            <?php endforeach; ?>
            </tbody>
        </table>
    </div>

    <h2>Ini Files</h2>
    <ul>
    <?php foreach ($iniFiles as $file): ?>
        <li> <?= trim($file) ?></li>
    <?php endforeach; ?>
    </ul>

    <h2>Extensions Loaded</h2>
    <table id="table-extensions" class="table table-sm table-hover">
        <thead class="thead-dark">
        <tr>
            <th>Name</th>
        </tr>
        </thead>
        <tbody>
        <?php foreach($extensions as $ext): ?>
        <tr>
            <td class="font-monospace"><?= $ext ?></td>
        </tr>
        <?php endforeach; ?>
        </tbody>
    </table>

    <h2>Others</h2>
    <table id="table-others" class="table table-sm table-hover">
        <thead class="thead-dark">
            <tr>
                <th>Info</th>
                <th>Value</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>PHP version</td>
                <td class="font-monospace"><?= $phpVersion ?></td>
            </tr>
            <tr>
                <td>Zend version</td>
                <td class="font-monospace"><?= zend_version() ?></td>
            </tr>
            <tr>
                <td>Current PHP file owner</td>
                <td class="font-monospace"><?= get_current_user() ?></td>
            </tr>
            <tr>
                <td>Current PHP process owner</td>
                <td class="font-monospace"><?= posix_getpwuid(posix_geteuid())['name'] ?? '' ?></td>
            </tr>
            <tr>
                <td>Uname</td>
                <td class="font-monospace"><?= php_uname() ?></td>
            </tr>
            <tr>
                <td>Temporary folder</td>
                <td class="font-monospace"><?= sys_get_temp_dir() ?></td>
            </tr>
            <tr>
                <td>SAPI name</td>
                <td class="font-monospace"><?= $sapiName ?></td>
            </tr>
        </tbody>
    </table>
</div>
